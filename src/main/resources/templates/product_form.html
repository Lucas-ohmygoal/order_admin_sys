<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="${product.id != null} ? 'Edit Product' : 'Add Product'"></title>
</head>
<body>
    <h2 th:text="${product.id != null} ? 'Edit Product' : 'Add Product'"></h2>
    <p>Hello, <span th:text="${user.username}"></span> | <a th:href="@{/products}">Back to Products</a></p>

    <form th:action="${product.id != null} ? @{/products/edit/{id}(id=${product.id})} : @{/products/add}" method="post" th:object="${product}">
        <div>
            <label>Name:</label>
            <input type="text" th:field="*{name}" required/>
        </div>
        <div>
            <label>Description:</label>
            <textarea th:field="*{description}"></textarea>
        </div>
        <div>
            <label>Price:</label>
            <input type="number" step="0.01" th:field="*{price}" required/>
        </div>
        <div>
            <label>Stock Quantity:</label>
            <input type="number" th:field="*{stockQuantity}" required/>
        </div>
        <button type="submit" th:text="${product.id != null} ? 'Update' : 'Add'"></button>
    </form>
</body>
</html>
